<h1 align="center">软件测试week7</h1><h2 align="right">10205101530-赵晗瑜</h2>


![image-20221018082438396](C:/Users/zhy19/AppData/Roaming/Typora/typora-user-images/image-20221018082438396.png)

## 1.如果可能，根据代码功能设计测试集合使其满足 100%**语句覆盖**（Statement Coverage）， 并给出测试集合满足覆盖要求的说明

**{[银行卡号is有效,姓名is有效,余额>0,全额还款,还款金额>=指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,全额还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,既不是全额还款也不是分期还款,还款金额<指定金额]**

**[银行卡号is有效,姓名is有效,余额<=0,既不是全额还款也不是分期还款,还款金额<指定金额]}**

选择以上测试用例，程序中的每个语句都能至少被执行一次。

<img src="../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019014816431.png" alt="image-20221019014816431" style="zoom:67%;" />

![image-20221019014756372](../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019014756372.png)

如上图：第一个用例执行了节点1 2 3 4，第二个用例执行了1 2 3 5，第三个用例执行了1 2 6，第四个用例执行了1 7，程序中的语句都能至少被执行一次。

## 2.如果可能，根据代码功能设计测试集合使其满足 100%**判定覆盖**（Dicision Coverage）， 并给出测试集合满足覆盖要求的说明 

1. 设银行卡号是否有效为A
2. 设姓名是否有效为B
3. 设余额为C
4. 设"付款方式为全额还款还是分期还款"为D，设全额还款为1，分期付款为2
6. 设"还款金额>=指定金额为"

则源代码可写为：

```c
if(A&&B&&C){
    if(D==1||D==2){
        if(G)
            print("还款成功")；
        else
            print("余额不足");
    }else
        print("返回")；
}else
    print("卡号错误或卡号姓名不一致或余额≤0");
```

| 测试集合              |      |      |      |              |        |        |                  |              |                    |
| --------------------- | ---- | ---- | ---- | ------------ | ------ | ------ | ---------------- | ------------ | ------------------ |
|                       | A    | B    | C    | if(A&&B&&C)  | D==1   | D==2   | if(D==1\|\|D==2) | G            | 判定覆盖度（100%） |
| (A=T,B=T,C=T,D=1,G=T) | T    | T    | T    | <u>**T**</u> | T      | F      | <u>**T**</u>     | **<u>T</u>** |                    |
| (A=F,B=T,C=T,D=1,G=F) | F    | N/A  | N/A  | <u>**F**</u> | 未执行 | 未执行 | 未执行           | 未执行       |                    |
| (A=T,B=T,C=T,D=0,G=F) | T    | T    | T    | T            | F      | F      | <u>**F**</u>     | 未执行       |                    |
| (A=T,B=T,C=T,D=1,G=F) | T    | T    | T    | T            | F      | T      | T                | <u>**F**</u> |                    |

(注意上图中A表示A==true，其余类似)(上图中用T表示True，用F表示False)

在上图中，三个判定都被执行了(每个判定的所有可能执行结果(T/F)都至少出现了一次)

**因此测试集合为:**

**{[银行卡号is有效,姓名is有效,余额>0,全额还款,还款金额>=指定金额],**

**[银行卡号is 无效,姓名is有效,余额>0,全额还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,既不是全额还款也不是分期还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,分期还款,还款金额<指定金额]}**

## 3.如果可能，根据代码功能设计测试集合使其满足 MC/DC（Modified Condition Dicision Coverage），并给出测试集合满足覆盖要求的说明 

![image-20221019013129240](../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019013129240.png)

![image-20221019132509677](../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019132509677.png)

对于[A=T,B=T,C=T]的情况：对if（D==1||D==2）判定进行讨论：

- D=0时，无需对G进行讨论
- D=1时
  1. G=T
  2. G=F
- D=2时
  1. G=T
  2. G=F

因此最终的测试集合可为：

1. [A=F,B=T,C=T,D=1,G=T]
2. [A=T,B=F,C=T,D=0,G=F]
3. [A=T,B=T,C=F,D=0,G=F]
4. [A=T,B=T,C=T,D=0,G=F]
5. [A=T,B=T,C=T,D=1,G=T]
6. [A=T,B=T,C=T,D=1,G=F]
7. [A=T,B=T,C=T,D=2,G=T]
8. [A=T,B=T,C=T,D=2,G=T]

即：

**{[银行卡号is无效,姓名is有效,余额>0,全额还款,还款金额>=指定金额],**

**[银行卡号is 有效,姓名is无效,余额>0,既不是全额还款也不是分期还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额<=0,既不是全额还款也不是分期还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,既不是全额还款也不是分期还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,全额还款,还款金额>=指定金额],**

**[银行卡号is 有效,姓名is有效,余额>0,全额还款,还款金额<指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,分期还款,还款金额≥指定金额],**

**[银行卡号is有效,姓名is有效,余额>0,分期还款,还款金额<指定金额]}**

## 4.如果可能，构造一个满足语句覆盖无法发现而满足判定覆盖可以发现的缺陷

![image-20221019101338044](../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019101338044.png)

如上图，将if(全额还款or分期还款)改为if(全额还款)（这是一个简单条件遗漏缺陷）,那么针对语句覆盖的测试集合结果与预期相同。**则语句覆盖不能发现。**

但是判定覆盖的测试用例**[银行卡号is有效,姓名is有效,余额>0,分期还款,还款金额<指定金额]**得到的是“打印返回”，而预期结果应为“还款成功”。**则判定覆盖可以发现**

## 5.如果可能，构造一个满足判定覆盖无法发现而满足MC/DC可以发现的缺陷

![image-20221019101729810](../../source/images/10205101530-%E8%B5%B5%E6%99%97%E7%91%9C-week7/image-20221019101729810.png)

如上图，将if(银行卡号 is 有效 AND 姓名is有效AND余额>0)改为if(银行卡号is有效AND姓名is有效)（这是一个简单条件遗漏缺陷）

则对于判定覆盖的测试集合结果与预期相同。**因此判定覆盖不能发现。**

但对于MC/DC中的测试用例**[银行卡号is有效,姓名is有效,余额<=0,既不是全额还款也不是分期还款,还款金额<指定金额]**得到返回结果"打印返回",而预期结果为：“卡号错误或卡号姓名不一致或余额≤0”。**因此MC/DC可以发现**